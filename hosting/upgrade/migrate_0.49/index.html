<!DOCTYPE html>
<html id="docs" lang="en" class="">
	<head>
	<meta charset="utf-8">
<title>Migrate 0.49 - CDS - Continuous Delivery Service</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="../../../images/favicon.png">




<link rel="stylesheet" href="../../../sass/styles.css" integrity="" media="screen">
<link rel="stylesheet" href="../../../css/callouts.css">
<link rel="stylesheet" href="../../../css/auto-complete.css">
<link rel="stylesheet" href="../../../css/fontawesome.min.css">
<link rel="stylesheet" href="../../../css/asciinema-player.css">
<link rel="stylesheet" href="../../../css/solarized-light.css">

<meta name="description"
    content="CDN service The release 0.49 introduced a new parameter in CDN configuration to disable and remove a CDN unit. In the previous version 0.48, you migrate log from CDS to CDN, by adding a temporary CDN Unit here. Time is coming to disabled it. In the next release (0.50), all logs datas in CDS will be deleted, and CDN will become the only way to manage logs.
Disable CDS Unit Add in your cdn configuration, the property &ldquo;disableSync = true&rdquo; for the CDS Unit">
<meta property="og:description"
    content="CDN service The release 0.49 introduced a new parameter in CDN configuration to disable and remove a CDN unit. In the previous version 0.48, you migrate log from CDS to CDN, by adding a temporary CDN Unit here. Time is coming to disabled it. In the next release (0.50), all logs datas in CDS will be deleted, and CDN will become the only way to manage logs.
Disable CDS Unit Add in your cdn configuration, the property &ldquo;disableSync = true&rdquo; for the CDS Unit">
<meta name="twitter:description"
    content="CDN service The release 0.49 introduced a new parameter in CDN configuration to disable and remove a CDN unit. In the previous version 0.48, you migrate log from CDS to CDN, by adding a temporary CDN Unit here. Time is coming to disabled it. In the next release (0.50), all logs datas in CDS will be deleted, and CDN will become the only way to manage logs.
Disable CDS Unit Add in your cdn configuration, the property &ldquo;disableSync = true&rdquo; for the CDS Unit">
<meta property="og:url" content="/hosting/upgrade/migrate_0.49/">
<meta property="og:title" content="Migrate 0.49">
<meta name="twitter:title" content="Migrate 0.49">
<meta name="twitter:image:alt" content="CDS - Continuous Delivery Service">
<meta property="og:image" content="/images/cds-transparent.png">
<script type="text/javascript" src="../../../js/anchor-4.1.1.min.js"></script>
<script type="text/javascript" src="../../../js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="../../../js/jquery-ui-1.12.1.min.js"></script>
<script type="text/javascript" src="../../../js/bootstrap-3.3.7.min.js"></script>
<script type="text/javascript" src="../../../js/highlight.pack.js"></script>
<script>
    hljs.initHighlightingOnLoad();

</script>
<script type="text/javascript" src="../../../js/script.js"></script>
<script type="text/javascript" src="../../../js/lunr.min.js"></script>
<a id="indexJSON" href="../../../index.json"></a>

<script type="text/javascript" src="../../../js/auto-complete.js"></script>
<script type="text/javascript" src="../../../js/search.js"></script>
<script type="text/javascript" src="../../../js/asciinema-player.js"></script>

	</head>
	<body>
		<section id="hero" class="light-text no-sub">
			<a href="../../../" class="logo"></a>
				<i id="tocburger" class="fa fa-bars" onclick='$("#toc").toggle()'></i><div class="nav-buttons" data-auto-burger="primary">
				<ul class="global-nav">
					
					
					<li><a href="../../../docs/">Documentation</a></li>
					
					<li><a href="../../../hosting/" class="active">Hosting your own instance</a></li>
					
					<li><a href="../../../development/">CDS Developer Manual</a></li>
					
					<li><a href="../../../about/">About</a></li>
					
					<li><i class="fa fa-search" onclick='$("#searchbox").toggle(); $("#search-query").focus().select()'></i></li>
					<li>
						<div id="btn-gh">
							<a class="github-button" href="https://github.com/ovh/cds" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star CDS on GitHub">Star</a>
							<script async defer src="https://buttons.github.io/buttons.js"></script>
						</div>
					</li>
				</ul>
				<div id="searchbox">
					<input data-search-input id="search-query" type="text" placeholder="search...">
					<span data-search-clear=""><i class="fa fa-close"></i></span>
				</div>
			</div>

<div id="headSubMenu" class="light-text">




	

		

		
	

	

		

		
		<ul>
			
			
			
			
		</ul>
		
	

	

		

		
	

	

		

		
	

</div>


		</section>
		<section id="page-content-with-menu">
			
<div id="toc">
     <div class="toc-container">
        
        
        
        
        
            
                
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                        
                            
                        
                    
                
            
        
            
                
                    
                        
                            
                        
                    
                        
                            
                                    
                                    
                            
                        
                    
                
            
        
            
                
                    
                        
                    
                        
                    
                        
                    
                
            
        
            
                
                    
                
            
        
        
        <i class="fa fa-bars" id="tocburger" onclick='$("#toc").toggle()'></i> 
<a class="item" data-title="Upgrade your CDS Instance" href="../../../hosting/upgrade/"></a>

	
	
	
	
		
			
<a class="item" data-title="Migrate 0.48" href="../../../hosting/upgrade/migrate_0.48/"></a>

		
	
		
			
<a class="item" data-title="Migrate 0.49" href="../../../hosting/upgrade/migrate_0.49/"></a>

		
	
		
			
<a class="item" data-title="Migrate 0.50" href="../../../hosting/upgrade/migrate_0.50/"></a>

		
	





     </div>
</div>


			<div id="docsContent">
        		

<h1>Migrate 0.49</h1>



<nav id="TableOfContents">
  <ul>
    <li><a href="#cdn-service">CDN service</a></li>
  </ul>
</nav>

<h2 id="cdn-service">CDN service</h2>
<p>The release 0.49 introduced a new parameter in CDN configuration to disable and remove a CDN unit.
In the previous version 0.48, you migrate log from CDS to CDN, by adding a temporary CDN Unit <a href="../../../hosting/upgrade/migrate_0.48/">here</a>. Time is coming to disabled it.
In the next release (0.50), all logs datas in CDS will be deleted, and CDN will become the only way to manage logs.</p>
<h1 id="disable-cds-unit">Disable CDS Unit</h1>
<p>Add in your cdn configuration, the property &ldquo;disableSync = true&rdquo; for the CDS Unit</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">cdn</span>.<span style="color:#a6e22e">storageUnits</span>.<span style="color:#a6e22e">storages</span>.<span style="color:#a6e22e">cds</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">backend</span>]
    <span style="color:#a6e22e">syncParallel</span> = <span style="color:#ae81ff">6</span>
    <span style="color:#a6e22e">disableSync</span> = <span style="color:#66d9ef">true</span>
    [<span style="color:#a6e22e">cdn</span>.<span style="color:#a6e22e">storageUnits</span>.<span style="color:#a6e22e">storages</span>.<span style="color:#a6e22e">cds</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">backend</span>.<span style="color:#a6e22e">cds</span>]
        <span style="color:#a6e22e">host</span> = <span style="color:#e6db74">&#34;https://&lt;your.cds.api&gt;&#34;</span>
        <span style="color:#a6e22e">token</span> = <span style="color:#e6db74">&#34;&lt;your.token&gt;&#34;</span>
</code></pre></div><h1 id="remove-cds-unit-item-from-cdn-database">Remove CDS Unit item from CDN Database</h1>
<p>To remove CDS Unit items, follow these steps:</p>
<ul>
<li>Disable CDS Unit in CDN</li>
<li>Retrieve CDS Unit identifier usings cdsctl</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cdsctl -c prod admin cdn unit list
</code></pre></div><ul>
<li>Mark CDS Unit item as delete using cdsctl</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cdsctl admin cdn unit delete-items &lt;unit_id&gt;
</code></pre></div><h1 id="remove-cds-unit-from-cdn-database">Remove CDS Unit from CDN Database</h1>
<p>To remove CDS Unit from CDN, follow these steps:</p>
<ul>
<li>Remove all CDS Unit items from CDN database</li>
<li>Remove the unit using cdsctl</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cdsctl admin cdn unit delete &lt;unit_id&gt;
</code></pre></div>



			</div>
		</section><footer>
			<main>
			<a href="https://www.ovh.com"><img src="https://ovh.github.io/cds/images/logo-ovh-white-72DPI.png"></a>
			<div>
				The CDS logos are copyrighted.
				Icons made by <a href="https://www.flaticon.com/authors/eucalyp">Eucalyp</a> 
				from <a href="https://www.flaticon.com/">www.flaticon.com</a>
			</div>
			</main>
		</footer>

	</body>
</html>
